import{c as yt,j as i,a as W,r as m,b as wt,u as Ce,d as me,e as Pe,f as T,P as Ms,g as D,h as J,i as X,S as Cs,D as Ke,k as he,l as U,m as je,n as Mt,o as Ct,p as js,A as Es,q as Ns,s as jt,t as Et,V as Is,v as _s,w as Ps,x as Vs,y as Rs,F as Ts,z as As,C as Fs,B as ks,E as rt,G as Ds,H as Os,L as Bs,I as Ls}from"./index-szitSuwq.js";import{I as Nt}from"./input-BnIbuOK9.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Hs=yt("chevron-up",$s);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Ks=yt("circle-arrow-up",zs);function dt({className:t,...o}){return i.jsx("div",{"data-slot":"card",className:W("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...o})}function Ws({className:t,...o}){return i.jsx("div",{"data-slot":"card-header",className:W("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...o})}function Us({className:t,...o}){return i.jsx("div",{"data-slot":"card-content",className:W("px-6",t),...o})}function Gs({className:t,...o}){return i.jsx("div",{"data-slot":"card-footer",className:W("flex items-center px-6 [.border-t]:pt-6",t),...o})}function Ys(t){const o=qs(t),s=m.forwardRef((e,r)=>{const{children:n,...a}=e,l=m.Children.toArray(n),c=l.find(Zs);if(c){const u=c.props.children,h=l.map(d=>d===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:d);return i.jsx(o,{...a,ref:r,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return i.jsx(o,{...a,ref:r,children:n})});return s.displayName=`${t}.Slot`,s}function qs(t){const o=m.forwardRef((s,e)=>{const{children:r,...n}=s;if(m.isValidElement(r)){const a=Qs(r),l=Js(n,r.props);return r.type!==m.Fragment&&(l.ref=e?wt(e,a):a),m.cloneElement(r,l)}return m.Children.count(r)>1?m.Children.only(null):null});return o.displayName=`${t}.SlotClone`,o}var Xs=Symbol("radix.slottable");function Zs(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xs}function Js(t,o){const s={...o};for(const e in o){const r=t[e],n=o[e];/^on[A-Z]/.test(e)?r&&n?s[e]=(...l)=>{const c=n(...l);return r(...l),c}:r&&(s[e]=r):e==="style"?s[e]={...r,...n}:e==="className"&&(s[e]=[r,n].filter(Boolean).join(" "))}return{...t,...s}}function Qs(t){var e,r;let o=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=o&&"isReactWarning"in o&&o.isReactWarning;return s?t.ref:(o=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=o&&"isReactWarning"in o&&o.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var er=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Z=er.reduce((t,o)=>{const s=Ys(`Primitive.${o}`),e=m.forwardRef((r,n)=>{const{asChild:a,...l}=r,c=a?s:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:n})});return e.displayName=`Primitive.${o}`,{...t,[o]:e}},{}),Ve="Collapsible",[tr,tn]=me(Ve),[sr,ot]=tr(Ve),It=m.forwardRef((t,o)=>{const{__scopeCollapsible:s,open:e,defaultOpen:r,disabled:n,onOpenChange:a,...l}=t,[c,u]=Ce({prop:e,defaultProp:r??!1,onChange:a,caller:Ve});return i.jsx(sr,{scope:s,disabled:n,contentId:Pe(),open:c,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),children:i.jsx(Z.div,{"data-state":at(c),"data-disabled":n?"":void 0,...l,ref:o})})});It.displayName=Ve;var _t="CollapsibleTrigger",Pt=m.forwardRef((t,o)=>{const{__scopeCollapsible:s,...e}=t,r=ot(_t,s);return i.jsx(Z.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":at(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...e,ref:o,onClick:T(t.onClick,r.onOpenToggle)})});Pt.displayName=_t;var nt="CollapsibleContent",Vt=m.forwardRef((t,o)=>{const{forceMount:s,...e}=t,r=ot(nt,t.__scopeCollapsible);return i.jsx(Ms,{present:s||r.open,children:({present:n})=>i.jsx(rr,{...e,ref:o,present:n})})});Vt.displayName=nt;var rr=m.forwardRef((t,o)=>{const{__scopeCollapsible:s,present:e,children:r,...n}=t,a=ot(nt,s),[l,c]=m.useState(e),u=m.useRef(null),h=D(o,u),d=m.useRef(0),f=d.current,b=m.useRef(0),x=b.current,p=a.open||l,g=m.useRef(p),S=m.useRef(void 0);return m.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),J(()=>{const v=u.current;if(v){S.current=S.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const y=v.getBoundingClientRect();d.current=y.height,b.current=y.width,g.current||(v.style.transitionDuration=S.current.transitionDuration,v.style.animationName=S.current.animationName),c(e)}},[a.open,e]),i.jsx(Z.div,{"data-state":at(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!p,...n,ref:h,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:p&&r})});function at(t){return t?"open":"closed"}var or=It;function nr({...t}){return i.jsx(or,{"data-slot":"collapsible",...t})}function ar({...t}){return i.jsx(Pt,{"data-slot":"collapsible-trigger",...t})}function ir({...t}){return i.jsx(Vt,{"data-slot":"collapsible-content",...t})}var lr="Separator",ut="horizontal",cr=["horizontal","vertical"],Rt=m.forwardRef((t,o)=>{const{decorative:s,orientation:e=ut,...r}=t,n=dr(e)?e:ut,l=s?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return i.jsx(Z.div,{"data-orientation":n,...l,...r,ref:o})});Rt.displayName=lr;function dr(t){return cr.includes(t)}var ur=Rt;function ft({className:t,orientation:o="horizontal",decorative:s=!0,...e}){return i.jsx(ur,{"data-slot":"separator-root",decorative:s,orientation:o,className:W("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...e})}function Re(t,o){return typeof t=="function"?t(o):t}function ue(t,o){return it(o).reduce((e,r)=>{if(e===null)return null;if(typeof e<"u")return e[r]},t)}function xe(t,o,s){const e=it(o);function r(n){if(!e.length)return Re(s,n);const a=e.shift();if(typeof a=="string"||typeof a=="number"&&!Array.isArray(n))return typeof n=="object"?(n===null&&(n={}),{...n,[a]:r(n[a])}):{[a]:r()};if(Array.isArray(n)&&typeof a=="number"){const l=n.slice(0,a);return[...l.length?l:new Array(a),r(n[a]),...n.slice(a+1)]}return[...new Array(a),r()]}return r(t)}function fr(t,o){const s=it(o);function e(r){if(!r)return;if(s.length===1){const a=s[0];if(Array.isArray(r)&&typeof a=="number")return r.filter((u,h)=>h!==a);const{[a]:l,...c}=r;return c}const n=s.shift();if(typeof n=="string"&&typeof r=="object")return{...r,[n]:e(r[n])};if(typeof n=="number"&&Array.isArray(r)){if(n>=r.length)return r;const a=r.slice(0,n);return[...a.length?a:new Array(n),e(r[n]),...r.slice(n+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return e(t)}const hr=/^(\d+)$/gm,mr=/\.(\d+)(?=\.)/gm,pr=/^(\d+)\./gm,vr=/\.(\d+$)/gm,gr=/\.{2,}/gm,We="__int__",Se=`${We}$1`;function it(t){if(Array.isArray(t))return[...t];if(typeof t!="string")throw new Error("Path must be a string.");return t.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(hr,Se).replace(mr,`.${Se}.`).replace(pr,`${Se}.`).replace(vr,`.${Se}`).replace(gr,".").split(".").map(o=>o.indexOf(We)===0?parseInt(o.substring(We.length),10):o)}function xr(t){return!(Array.isArray(t)&&t.length===0)}function Ue(t,o){const{asyncDebounceMs:s}=o,{onChangeAsync:e,onBlurAsync:r,onSubmitAsync:n,onBlurAsyncDebounceMs:a,onChangeAsyncDebounceMs:l}=o.validators||{},c=s??0,u={cause:"change",validate:e,debounceMs:l??c},h={cause:"blur",validate:r,debounceMs:a??c},d={cause:"submit",validate:n,debounceMs:0},f=b=>({...b,debounceMs:0});switch(t){case"submit":return[f(u),f(h),d];case"blur":return[h];case"change":return[u];case"server":default:return[]}}function Ge(t,o){const{onChange:s,onBlur:e,onSubmit:r,onMount:n}=o.validators||{},a={cause:"change",validate:s},l={cause:"blur",validate:e},c={cause:"submit",validate:r},u={cause:"mount",validate:n},h={cause:"server",validate:()=>{}};switch(t){case"mount":return[u];case"submit":return[a,l,c,h];case"server":return[h];case"blur":return[l,h];case"change":default:return[a,h]}}const Ye=t=>!!t&&typeof t=="object"&&"fields"in t;function ae(t,o){if(Object.is(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;if(t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(const[r,n]of t)if(!o.has(r)||!Object.is(n,o.get(r)))return!1;return!0}if(t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(const r of t)if(!o.has(r))return!1;return!0}const s=Object.keys(t),e=Object.keys(o);if(s.length!==e.length)return!1;for(const r of s)if(!e.includes(r)||!ae(t[r],o[r]))return!1;return!0}const ht=({newFormValidatorError:t,isPreviousErrorFromFormValidator:o,previousErrorValue:s})=>t?{newErrorValue:t,newSource:"form"}:o?{newErrorValue:void 0,newSource:void 0}:s?{newErrorValue:s,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},mt=({formLevelError:t,fieldLevelError:o})=>o?{newErrorValue:o,newSource:"field"}:t?{newErrorValue:t,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function Sr(t){const o=new Map;for(const s of t){const e=[...s.path??[]].map(r=>{const n=typeof r=="object"?r.key:r;return typeof n=="number"?`[${n}]`:n}).join(".").replace(/\.\[/g,"[");o.set(e,(o.get(e)??[]).concat(s))}return Object.fromEntries(o)}const pt=t=>{const o=Sr(t);return{form:o,fields:o}},ie={validate({value:t,validationSource:o},s){const e=s["~standard"].validate(t);if(e instanceof Promise)throw new Error("async function passed to sync validator");if(e.issues)return o==="field"?e.issues:pt(e.issues)},async validateAsync({value:t,validationSource:o},s){const e=await s["~standard"].validate(t);if(e.issues)return o==="field"?e.issues:pt(e.issues)}},Tt=t=>!!t&&"~standard"in t,Ee={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function be(t){function o(d,f,b,x){const p=e(d,f,b,x);({insert:()=>l(p,d,f),remove:()=>c(p),swap:()=>x!==void 0&&h(p,d,f,x),move:()=>x!==void 0&&u(p,d,f,x)})[b]()}function s(d,f){return`${d}[${f}]`}function e(d,f,b,x){const p=[s(d,f)];if(b==="swap")p.push(s(d,x));else if(b==="move"){const[g,S]=[Math.min(f,x),Math.max(f,x)];for(let v=g;v<=S;v++)p.push(s(d,v))}else{const g=t.getFieldValue(d),S=Array.isArray(g)?g.length:0;for(let v=f+1;v<S;v++)p.push(s(d,v))}return Object.keys(t.fieldInfo).filter(g=>p.some(S=>g.startsWith(S)))}function r(d,f){return d.replace(/\[(\d+)\]/,(b,x)=>{const p=parseInt(x,10);return`[${f==="up"?p+1:Math.max(0,p-1)}]`})}function n(d,f){(f==="up"?d:[...d].reverse()).forEach(x=>{const p=r(x.toString(),f),g=t.getFieldMeta(p);g?t.setFieldMeta(x,g):t.setFieldMeta(x,a())})}const a=()=>Ee,l=(d,f,b)=>{n(d,"down"),d.forEach(x=>{x.toString().startsWith(s(f,b))&&t.setFieldMeta(x,a())})},c=d=>{n(d,"up")},u=(d,f,b,x)=>{const p=new Map(Object.keys(t.fieldInfo).filter(g=>g.startsWith(s(f,b))).map(g=>[g,t.getFieldMeta(g)]));n(d,b<x?"up":"down"),Object.keys(t.fieldInfo).filter(g=>g.startsWith(s(f,x))).forEach(g=>{const S=g.replace(s(f,x),s(f,b)),v=p.get(S);v&&t.setFieldMeta(g,v)})},h=(d,f,b,x)=>{d.forEach(p=>{if(!p.toString().startsWith(s(f,b)))return;const g=p.toString().replace(s(f,b),s(f,x)),[S,v]=[t.getFieldMeta(p),t.getFieldMeta(g)];S&&t.setFieldMeta(g,S),v&&t.setFieldMeta(p,v)})};return{handleArrayFieldMetaShift:o}}function ze(t){return{values:t.values??{},errorMap:t.errorMap??{},fieldMetaBase:t.fieldMetaBase??{},isSubmitted:t.isSubmitted??!1,isSubmitting:t.isSubmitting??!1,isValidating:t.isValidating??!1,submissionAttempts:t.submissionAttempts??0,isSubmitSuccessful:t.isSubmitSuccessful??!1,validationMetaMap:t.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class br{constructor(o){var s;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{var e,r;const n=this.fieldMetaDerived.mount(),a=this.store.mount(),l=()=>{n(),a()};(r=(e=this.options.listeners)==null?void 0:e.onMount)==null||r.call(e,{formApi:this});const{onMount:c}=this.options.validators||{};return c&&this.validateSync("mount"),l},this.update=e=>{var r,n;if(!e)return;const a=this.options;this.options=e;const l=!!((n=(r=e.transform)==null?void 0:r.deps)!=null&&n.some((h,d)=>h!==this.prevTransformArray[d])),c=e.defaultValues&&!ae(e.defaultValues,a.defaultValues)&&!this.state.isTouched,u=!ae(e.defaultState,a.defaultState)&&!this.state.isTouched;!c&&!u&&!l||X(()=>{this.baseStore.setState(()=>ze(Object.assign({},this.state,u?e.defaultState:{},c?{values:e.defaultValues}:{},l?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(e,r)=>{const{fieldMeta:n}=this.state,a=this.resetFieldMeta(n);e&&!(r!=null&&r.keepDefaultValues)&&(this.options={...this.options,defaultValues:e}),this.baseStore.setState(()=>{var l;return ze({...this.options.defaultState,values:e??this.options.defaultValues??((l=this.options.defaultState)==null?void 0:l.values),fieldMetaBase:a})})},this.validateAllFields=async e=>{const r=[];return X(()=>{Object.values(this.fieldInfo).forEach(a=>{if(!a.instance)return;const l=a.instance;r.push(Promise.resolve().then(()=>l.validate(e,{skipFormValidation:!0}))),a.instance.state.meta.isTouched||a.instance.setMeta(c=>({...c,isTouched:!0}))})}),(await Promise.all(r)).flat()},this.validateArrayFieldsStartingFrom=async(e,r,n)=>{const a=this.getFieldValue(e),l=Array.isArray(a)?Math.max(a.length-1,0):null,c=[`${e}[${r}]`];for(let f=r+1;f<=(l??0);f++)c.push(`${e}[${f}]`);const u=Object.keys(this.fieldInfo).filter(f=>c.some(b=>f.startsWith(b))),h=[];return X(()=>{u.forEach(f=>{h.push(Promise.resolve().then(()=>this.validateField(f,n)))})}),(await Promise.all(h)).flat()},this.validateField=(e,r)=>{var n;const a=(n=this.fieldInfo[e])==null?void 0:n.instance;return a?(a.state.meta.isTouched||a.setMeta(l=>({...l,isTouched:!0})),a.validate(r)):[]},this.validateSync=e=>{const r=Ge(e,this.options);let n=!1;const a={};return X(()=>{var l,c;for(const h of r){if(!h.validate)continue;const d=this.runValidator({validate:h.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:f,fieldErrors:b}=Me(d),x=ye(h.cause);for(const p of Object.keys(this.state.fieldMeta)){const g=this.getFieldMeta(p);if(!g)continue;const{errorMap:S,errorSourceMap:v}=g,y=b==null?void 0:b[p],{newErrorValue:w,newSource:j}=ht({newFormValidatorError:y,isPreviousErrorFromFormValidator:(v==null?void 0:v[x])==="form",previousErrorValue:S==null?void 0:S[x]});j==="form"&&(a[p]={...a[p],[x]:y}),(S==null?void 0:S[x])!==w&&this.setFieldMeta(p,E=>({...E,errorMap:{...E.errorMap,[x]:w},errorSourceMap:{...E.errorSourceMap,[x]:j}}))}((l=this.state.errorMap)==null?void 0:l[x])!==f&&this.baseStore.setState(p=>({...p,errorMap:{...p.errorMap,[x]:f}})),(f||b)&&(n=!0)}const u=ye("submit");(c=this.state.errorMap)!=null&&c[u]&&e!=="submit"&&!n&&this.baseStore.setState(h=>({...h,errorMap:{...h.errorMap,[u]:void 0}}))}),{hasErrored:n,fieldsErrorMap:a}},this.validateAsync=async e=>{const r=Ue(e,this.options);this.state.isFormValidating||this.baseStore.setState(u=>({...u,isFormValidating:!0}));const n=[];let a;for(const u of r){if(!u.validate)continue;const h=ye(u.cause),d=this.state.validationMetaMap[h];d==null||d.lastAbortController.abort();const f=new AbortController;this.state.validationMetaMap[h]={lastAbortController:f},n.push(new Promise(async b=>{let x;try{x=await new Promise((v,y)=>{setTimeout(async()=>{if(f.signal.aborted)return v(void 0);try{v(await this.runValidator({validate:u.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:f.signal},type:"validateAsync"}))}catch(w){y(w)}},u.debounceMs)})}catch(v){x=v}const{formError:p,fieldErrors:g}=Me(x);g&&(a=a?{...a,...g}:g);const S=ye(u.cause);for(const v of Object.keys(this.state.fieldMeta)){const y=this.getFieldMeta(v);if(!y)continue;const{errorMap:w,errorSourceMap:j}=y,E=a==null?void 0:a[v],{newErrorValue:N,newSource:O}=ht({newFormValidatorError:E,isPreviousErrorFromFormValidator:(j==null?void 0:j[S])==="form",previousErrorValue:w==null?void 0:w[S]});(w==null?void 0:w[S])!==N&&this.setFieldMeta(v,I=>({...I,errorMap:{...I.errorMap,[S]:N},errorSourceMap:{...I.errorSourceMap,[S]:O}}))}this.baseStore.setState(v=>({...v,errorMap:{...v.errorMap,[S]:p}})),b(a?{fieldErrors:a,errorMapKey:S}:void 0)}))}let l=[];const c={};if(n.length){l=await Promise.all(n);for(const u of l)if(u!=null&&u.fieldErrors){const{errorMapKey:h}=u;for(const[d,f]of Object.entries(u.fieldErrors)){const x={...c[d]||{},[h]:f};c[d]=x}}}return this.baseStore.setState(u=>({...u,isFormValidating:!1})),c},this.validate=e=>{const{hasErrored:r,fieldsErrorMap:n}=this.validateSync(e);return r&&!this.options.asyncAlways?n:this.validateAsync(e)},this.getFieldValue=e=>ue(this.state.values,e),this.getFieldMeta=e=>this.state.fieldMeta[e],this.getFieldInfo=e=>{var r;return(r=this.fieldInfo)[e]||(r[e]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(e,r)=>{this.baseStore.setState(n=>({...n,fieldMetaBase:{...n.fieldMetaBase,[e]:Re(r,n.fieldMetaBase[e])}}))},this.resetFieldMeta=e=>Object.keys(e).reduce((r,n)=>{const a=n;return r[a]=Ee,r},{}),this.setFieldValue=(e,r,n)=>{const a=(n==null?void 0:n.dontUpdateMeta)??!1;X(()=>{a||this.setFieldMeta(e,l=>({...l,isTouched:!0,isDirty:!0,errorMap:{...l==null?void 0:l.errorMap,onMount:void 0}})),this.baseStore.setState(l=>({...l,values:xe(l.values,e,r)}))})},this.deleteField=e=>{const n=[...Object.keys(this.fieldInfo).filter(a=>{const l=e.toString();return a!==l&&a.startsWith(l)}),e];this.baseStore.setState(a=>{const l={...a};return n.forEach(c=>{l.values=fr(l.values,c),delete this.fieldInfo[c],delete l.fieldMetaBase[c]}),l})},this.pushFieldValue=(e,r,n)=>{this.setFieldValue(e,a=>[...Array.isArray(a)?a:[],r],n),this.validateField(e,"change")},this.insertFieldValue=async(e,r,n,a)=>{this.setFieldValue(e,l=>[...l.slice(0,r),n,...l.slice(r)],a),await this.validateField(e,"change"),be(this).handleArrayFieldMetaShift(e,r,"insert"),await this.validateArrayFieldsStartingFrom(e,r,"change")},this.replaceFieldValue=async(e,r,n,a)=>{this.setFieldValue(e,l=>l.map((c,u)=>u===r?n:c),a),await this.validateField(e,"change"),await this.validateArrayFieldsStartingFrom(e,r,"change")},this.removeFieldValue=async(e,r,n)=>{const a=this.getFieldValue(e),l=Array.isArray(a)?Math.max(a.length-1,0):null;if(this.setFieldValue(e,c=>c.filter((u,h)=>h!==r),n),be(this).handleArrayFieldMetaShift(e,r,"remove"),l!==null){const c=`${e}[${l}]`;this.deleteField(c)}await this.validateField(e,"change"),await this.validateArrayFieldsStartingFrom(e,r,"change")},this.swapFieldValues=(e,r,n,a)=>{this.setFieldValue(e,l=>{const c=l[r],u=l[n];return xe(xe(l,`${r}`,u),`${n}`,c)},a),be(this).handleArrayFieldMetaShift(e,r,"swap",n),this.validateField(e,"change"),this.validateField(`${e}[${r}]`,"change"),this.validateField(`${e}[${n}]`,"change")},this.moveFieldValues=(e,r,n,a)=>{this.setFieldValue(e,l=>(l.splice(n,0,l.splice(r,1)[0]),l),a),be(this).handleArrayFieldMetaShift(e,r,"move",n),this.validateField(e,"change"),this.validateField(`${e}[${r}]`,"change"),this.validateField(`${e}[${n}]`,"change")},this.clearFieldValues=(e,r)=>{const n=this.getFieldValue(e),a=Array.isArray(n)?Math.max(n.length-1,0):null;if(this.setFieldValue(e,[],r),a!==null)for(let l=0;l<=a;l++){const c=`${e}[${l}]`;this.deleteField(c)}this.validateField(e,"change")},this.resetField=e=>{this.baseStore.setState(r=>({...r,fieldMetaBase:{...r.fieldMetaBase,[e]:Ee},values:this.options.defaultValues?xe(r.values,e,ue(this.options.defaultValues,e)):r.values}))},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((e,[r,n])=>(Object.keys(n).length&&n.errors.length&&(e[r]={errors:n.errors,errorMap:n.errorMap}),e),{})}),this.parseValuesWithSchema=e=>ie.validate({value:this.state.values,validationSource:"form"},e),this.parseValuesWithSchemaAsync=e=>ie.validateAsync({value:this.state.values,validationSource:"form"},e),this.baseStore=new Cs(ze({...o==null?void 0:o.defaultState,values:(o==null?void 0:o.defaultValues)??((s=o==null?void 0:o.defaultState)==null?void 0:s.values)})),this.fieldMetaDerived=new Ke({deps:[this.baseStore],fn:({prevDepVals:e,currDepVals:r,prevVal:n})=>{var a,l,c;const u=n,h=e==null?void 0:e[0],d=r[0];let f=0;const b={};for(const x of Object.keys(d.fieldMetaBase)){const p=d.fieldMetaBase[x],g=h==null?void 0:h.fieldMetaBase[x],S=u==null?void 0:u[x],v=ue(d.values,x);let y=S==null?void 0:S.errors;if(!g||p.errorMap!==g.errorMap){y=Object.values(p.errorMap??{}).filter(O=>O!==void 0);const N=(a=this.getFieldInfo(x))==null?void 0:a.instance;N&&!N.options.disableErrorFlat&&(y=y==null?void 0:y.flat(1))}const w=!xr(y??[]),j=!p.isDirty,E=ae(v,ue(this.options.defaultValues,x))||ae(v,(c=(l=this.getFieldInfo(x))==null?void 0:l.instance)==null?void 0:c.options.defaultValue);if(S&&S.isPristine===j&&S.isValid===w&&S.isDefaultValue===E&&S.errors===y&&p===g){b[x]=S,f++;continue}b[x]={...p,errors:y,isPristine:j,isValid:w,isDefaultValue:E}}return Object.keys(d.fieldMetaBase).length&&u&&f===Object.keys(d.fieldMetaBase).length?u:b}}),this.store=new Ke({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:e,currDepVals:r,prevVal:n})=>{var a,l,c,u;const h=n,d=e==null?void 0:e[0],f=r[0],b=r[1],x=Object.values(b).filter(Boolean),p=x.some(M=>M.isValidating),g=x.every(M=>M.isValid),S=x.some(M=>M.isTouched),v=x.some(M=>M.isBlurred),y=x.every(M=>M.isDefaultValue),w=S&&((a=f.errorMap)==null?void 0:a.onMount),j=x.some(M=>M.isDirty),E=!j,N=!!((l=f.errorMap)!=null&&l.onMount||x.some(M=>{var F;return(F=M==null?void 0:M.errorMap)==null?void 0:F.onMount})),O=!!p;let I=(h==null?void 0:h.errors)??[];(!d||f.errorMap!==d.errorMap)&&(I=Object.values(f.errorMap).reduce((M,F)=>F===void 0?M:F&&Ye(F)?(M.push(F.form),M):(M.push(F),M),[]));const B=I.length===0,_=g&&B,L=this.options.canSubmitWhenInvalid??!1,$=f.submissionAttempts===0&&!S&&!N||!O&&!f.isSubmitting&&_||L;let z=f.errorMap;if(w&&(I=I.filter(M=>M!==f.errorMap.onMount),z=Object.assign(z,{onMount:void 0})),h&&d&&h.errorMap===z&&h.fieldMeta===this.fieldMetaDerived.state&&h.errors===I&&h.isFieldsValidating===p&&h.isFieldsValid===g&&h.isFormValid===B&&h.isValid===_&&h.canSubmit===$&&h.isTouched===S&&h.isBlurred===v&&h.isPristine===E&&h.isDefaultValue===y&&h.isDirty===j&&ae(d,f))return h;let K={...f,errorMap:z,fieldMeta:this.fieldMetaDerived.state,errors:I,isFieldsValidating:p,isFieldsValid:g,isFormValid:B,isValid:_,canSubmit:$,isTouched:S,isBlurred:v,isPristine:E,isDefaultValue:y,isDirty:j};const R=((c=this.options.transform)==null?void 0:c.deps)??[];if(R.length!==this.prevTransformArray.length||R.some((M,F)=>M!==this.prevTransformArray[F])){const M=Object.assign({},this,{state:K});(u=this.options.transform)==null||u.fn(M),K=M.state,this.prevTransformArray=R}return K}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(o||{})}get state(){return this.store.state}runValidator(o){return Tt(o.validate)?ie[o.type](o.value,o.validate):o.validate(o.value)}async handleSubmit(o){var s,e,r,n,a,l,c,u;if(this.baseStore.setState(d=>({...d,isSubmitted:!1,submissionAttempts:d.submissionAttempts+1,isSubmitSuccessful:!1})),X(()=>{Object.values(this.fieldInfo).forEach(d=>{d.instance&&(d.instance.state.meta.isTouched||d.instance.setMeta(f=>({...f,isTouched:!0})))})}),!this.state.canSubmit)return;this.baseStore.setState(d=>({...d,isSubmitting:!0}));const h=()=>{this.baseStore.setState(d=>({...d,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){h(),(e=(s=this.options).onSubmitInvalid)==null||e.call(s,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){h(),(n=(r=this.options).onSubmitInvalid)==null||n.call(r,{value:this.state.values,formApi:this});return}X(()=>{Object.values(this.fieldInfo).forEach(d=>{var f,b,x;(x=(b=(f=d.instance)==null?void 0:f.options.listeners)==null?void 0:b.onSubmit)==null||x.call(b,{value:d.instance.state.value,fieldApi:d.instance})})}),(l=(a=this.options.listeners)==null?void 0:a.onSubmit)==null||l.call(a,{formApi:this});try{await((u=(c=this.options).onSubmit)==null?void 0:u.call(c,{value:this.state.values,formApi:this,meta:o??this.options.onSubmitMeta})),X(()=>{this.baseStore.setState(d=>({...d,isSubmitted:!0,isSubmitSuccessful:!0})),h()})}catch(d){throw this.baseStore.setState(f=>({...f,isSubmitSuccessful:!1})),h(),d}}setErrorMap(o){X(()=>{Object.entries(o).forEach(([s,e])=>{const r=s;if(Ye(e)){const{formError:n,fieldErrors:a}=Me(e);for(const l of Object.keys(this.fieldInfo))this.getFieldMeta(l)&&this.setFieldMeta(l,u=>({...u,errorMap:{...u.errorMap,[r]:a==null?void 0:a[l]},errorSourceMap:{...u.errorSourceMap,[r]:"form"}}));this.baseStore.setState(l=>({...l,errorMap:{...l.errorMap,[r]:n}}))}else this.baseStore.setState(n=>({...n,errorMap:{...n.errorMap,[r]:e}}))})})}}function Me(t){if(t){if(Ye(t)){const o=Me(t.form).formError,s=t.fields;return{formError:o,fieldErrors:s}}return{formError:t}}return{formError:void 0}}function ye(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class yr{constructor(o){this.options={},this.mount=()=>{var s,e;const r=this.store.mount();this.options.defaultValue!==void 0&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const n=this.getInfo();n.instance=this,this.update(this.options);const{onMount:a}=this.options.validators||{};if(a){const l=this.runValidator({validate:a,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});l&&this.setMeta(c=>({...c,errorMap:{...c==null?void 0:c.errorMap,onMount:l},errorSourceMap:{...c==null?void 0:c.errorSourceMap,onMount:"field"}}))}return(e=(s=this.options.listeners)==null?void 0:s.onMount)==null||e.call(s,{value:this.state.value,fieldApi:this}),r},this.update=s=>{this.options=s;const e=this.name!==s.name;if(this.name=s.name,this.state.value===void 0){const r=ue(s.form.options.defaultValues,s.name),n=s.defaultValue??r;e?this.setValue(a=>a||n,{dontUpdateMeta:!0}):n!==void 0&&this.setValue(n,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(s,e)=>{this.form.setFieldValue(this.name,s,e),this.triggerOnChangeListener(),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=s=>this.form.setFieldMeta(this.name,s),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(s,e)=>{this.form.pushFieldValue(this.name,s,e),this.triggerOnChangeListener()},this.insertValue=(s,e,r)=>{this.form.insertFieldValue(this.name,s,e,r),this.triggerOnChangeListener()},this.replaceValue=(s,e,r)=>{this.form.replaceFieldValue(this.name,s,e,r),this.triggerOnChangeListener()},this.removeValue=(s,e)=>{this.form.removeFieldValue(this.name,s,e),this.triggerOnChangeListener()},this.swapValues=(s,e,r)=>{this.form.swapFieldValues(this.name,s,e,r),this.triggerOnChangeListener()},this.moveValue=(s,e,r)=>{this.form.moveFieldValues(this.name,s,e,r),this.triggerOnChangeListener()},this.clearValues=s=>{this.form.clearFieldValues(this.name,s),this.triggerOnChangeListener()},this.getLinkedFields=s=>{const e=Object.values(this.form.fieldInfo),r=[];for(const n of e){if(!n.instance)continue;const{onChangeListenTo:a,onBlurListenTo:l}=n.instance.options.validators||{};s==="change"&&(a!=null&&a.includes(this.name))&&r.push(n.instance),s==="blur"&&(l!=null&&l.includes(this.name))&&r.push(n.instance)}return r},this.validateSync=(s,e)=>{var r;const n=Ge(s,this.options),l=this.getLinkedFields(s).reduce((h,d)=>{const f=Ge(s,d.options);return f.forEach(b=>{b.field=d}),h.concat(f)},[]);let c=!1;X(()=>{const h=(d,f)=>{var b;const x=we(f.cause),p=f.validate?vt(d.runValidator({validate:f.validate,value:{value:d.store.state.value,validationSource:"field",fieldApi:d},type:"validate"})):void 0,g=e[x],{newErrorValue:S,newSource:v}=mt({formLevelError:g,fieldLevelError:p});((b=d.state.meta.errorMap)==null?void 0:b[x])!==S&&d.setMeta(y=>({...y,errorMap:{...y.errorMap,[x]:S},errorSourceMap:{...y.errorSourceMap,[x]:v}})),S&&(c=!0)};for(const d of n)h(this,d);for(const d of l)d.validate&&h(d.field,d)});const u=we("submit");return(r=this.state.meta.errorMap)!=null&&r[u]&&s!=="submit"&&!c&&this.setMeta(h=>({...h,errorMap:{...h.errorMap,[u]:void 0},errorSourceMap:{...h.errorSourceMap,[u]:void 0}})),{hasErrored:c}},this.validateAsync=async(s,e)=>{const r=Ue(s,this.options),n=await e,a=this.getLinkedFields(s),l=a.reduce((f,b)=>{const x=Ue(s,b.options);return x.forEach(p=>{p.field=b}),f.concat(x)},[]);this.state.meta.isValidating||this.setMeta(f=>({...f,isValidating:!0}));for(const f of a)f.setMeta(b=>({...b,isValidating:!0}));const c=[],u=[],h=(f,b,x)=>{const p=we(b.cause),g=f.getInfo().validationMetaMap[p];g==null||g.lastAbortController.abort();const S=new AbortController;this.getInfo().validationMetaMap[p]={lastAbortController:S},x.push(new Promise(async v=>{var y;let w;try{w=await new Promise((I,B)=>{this.timeoutIds.validations[b.cause]&&clearTimeout(this.timeoutIds.validations[b.cause]),this.timeoutIds.validations[b.cause]=setTimeout(async()=>{if(S.signal.aborted)return I(void 0);try{I(await this.runValidator({validate:b.validate,value:{value:f.store.state.value,fieldApi:f,signal:S.signal,validationSource:"field"},type:"validateAsync"}))}catch(_){B(_)}},b.debounceMs)})}catch(I){w=I}if(S.signal.aborted)return v(void 0);const j=vt(w),E=(y=n[this.name])==null?void 0:y[p],{newErrorValue:N,newSource:O}=mt({formLevelError:E,fieldLevelError:j});f.setMeta(I=>({...I,errorMap:{...I==null?void 0:I.errorMap,[p]:N},errorSourceMap:{...I.errorSourceMap,[p]:O}})),v(N)}))};for(const f of r)f.validate&&h(this,f,c);for(const f of l)f.validate&&h(f.field,f,u);let d=[];(c.length||u.length)&&(d=await Promise.all(c),await Promise.all(u)),this.setMeta(f=>({...f,isValidating:!1}));for(const f of a)f.setMeta(b=>({...b,isValidating:!1}));return d.filter(Boolean)},this.validate=(s,e)=>{var r;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:n}=e!=null&&e.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(s),{hasErrored:a}=this.validateSync(s,n[this.name]??{});if(a&&!this.options.asyncAlways)return(r=this.getInfo().validationMetaMap[we(s)])==null||r.lastAbortController.abort(),this.state.meta.errors;const l=e!=null&&e.skipFormValidation?Promise.resolve({}):this.form.validateAsync(s);return this.validateAsync(s,l)},this.handleChange=s=>{this.setValue(s)},this.handleBlur=()=>{this.state.meta.isTouched||(this.setMeta(e=>({...e,isTouched:!0})),this.validate("change")),this.state.meta.isBlurred||this.setMeta(e=>({...e,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.parseValueWithSchema=s=>ie.validate({value:this.state.value,validationSource:"field"},s),this.parseValueWithSchemaAsync=s=>ie.validateAsync({value:this.state.value,validationSource:"field"},s),this.form=o.form,this.name=o.name,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new Ke({deps:[this.form.store],fn:()=>{const s=this.form.getFieldValue(this.name),e=this.form.getFieldMeta(this.name)??{...Ee,...o.defaultMeta};return{value:s,meta:e}}}),this.options=o}get state(){return this.store.state}runValidator(o){return Tt(o.validate)?ie[o.type](o.value,o.validate):o.validate(o.value)}setErrorMap(o){this.setMeta(s=>({...s,errorMap:{...s.errorMap,...o}}))}triggerOnBlurListener(){var o,s,e,r,n,a;const l=(o=this.form.options.listeners)==null?void 0:o.onBlurDebounceMs;l&&l>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var u,h;(h=(u=this.form.options.listeners)==null?void 0:u.onBlur)==null||h.call(u,{formApi:this.form,fieldApi:this})},l)):(e=(s=this.form.options.listeners)==null?void 0:s.onBlur)==null||e.call(s,{formApi:this.form,fieldApi:this});const c=(r=this.options.listeners)==null?void 0:r.onBlurDebounceMs;c&&c>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{var u,h;(h=(u=this.options.listeners)==null?void 0:u.onBlur)==null||h.call(u,{value:this.state.value,fieldApi:this})},c)):(a=(n=this.options.listeners)==null?void 0:n.onBlur)==null||a.call(n,{value:this.state.value,fieldApi:this})}triggerOnChangeListener(){var o,s,e,r,n,a;const l=(o=this.form.options.listeners)==null?void 0:o.onChangeDebounceMs;l&&l>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{var u,h;(h=(u=this.form.options.listeners)==null?void 0:u.onChange)==null||h.call(u,{formApi:this.form,fieldApi:this})},l)):(e=(s=this.form.options.listeners)==null?void 0:s.onChange)==null||e.call(s,{formApi:this.form,fieldApi:this});const c=(r=this.options.listeners)==null?void 0:r.onChangeDebounceMs;c&&c>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{var u,h;(h=(u=this.options.listeners)==null?void 0:u.onChange)==null||h.call(u,{value:this.state.value,fieldApi:this})},c)):(a=(n=this.options.listeners)==null?void 0:n.onChange)==null||a.call(n,{value:this.state.value,fieldApi:this})}}function vt(t){if(t)return t}function we(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}const Ne=typeof window<"u"?m.useLayoutEffect:m.useEffect;function wr(t){const[o]=m.useState(()=>{const e=new yr({...t,form:t.form,name:t.name});return e.Field=At,e});return Ne(o.mount,[o]),Ne(()=>{o.update(t)}),he(o.store,t.mode==="array"?s=>[s.meta,Object.keys(s.value??[]).length]:void 0),o}const At=({children:t,...o})=>{const s=wr(o),e=m.useMemo(()=>Re(t,s),[t,s,s.state.value,s.state.meta]);return i.jsx(i.Fragment,{children:e})};function Mr({form:t,selector:o,children:s}){const e=he(t.store,o);return Re(s,e)}function Cr(t){const[o]=m.useState(()=>{const s=new br(t),e=s;return e.Field=function(n){return i.jsx(At,{...n,form:s})},e.Subscribe=r=>i.jsx(Mr,{form:s,selector:r.selector,children:r.children}),e});return Ne(o.mount,[]),he(o.store,s=>s.isSubmitting),Ne(()=>{o.update(t)}),o}var jr="Label",Ft=m.forwardRef((t,o)=>i.jsx(Z.label,{...t,ref:o,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Ft.displayName=jr;var Er=Ft;function pe({className:t,...o}){return i.jsx(Er,{"data-slot":"label",className:W("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...o})}function Ie(t,[o,s]){return Math.min(s,Math.max(o,t))}function Nr(t){const o=t+"CollectionProvider",[s,e]=me(o),[r,n]=s(o,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:S}=p,v=U.useRef(null),y=U.useRef(new Map).current;return i.jsx(r,{scope:g,itemMap:y,collectionRef:v,children:S})};a.displayName=o;const l=t+"CollectionSlot",c=je(l),u=U.forwardRef((p,g)=>{const{scope:S,children:v}=p,y=n(l,S),w=D(g,y.collectionRef);return i.jsx(c,{ref:w,children:v})});u.displayName=l;const h=t+"CollectionItemSlot",d="data-radix-collection-item",f=je(h),b=U.forwardRef((p,g)=>{const{scope:S,children:v,...y}=p,w=U.useRef(null),j=D(g,w),E=n(h,S);return U.useEffect(()=>(E.itemMap.set(w,{ref:w,...y}),()=>void E.itemMap.delete(w))),i.jsx(f,{[d]:"",ref:j,children:v})});b.displayName=h;function x(p){const g=n(t+"CollectionConsumer",p);return U.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((E,N)=>y.indexOf(E.ref.current)-y.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:u,ItemSlot:b},x,e]}var Ir=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y=Ir.reduce((t,o)=>{const s=je(`Primitive.${o}`),e=m.forwardRef((r,n)=>{const{asChild:a,...l}=r,c=a?s:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:n})});return e.displayName=`Primitive.${o}`,{...t,[o]:e}},{}),_r=[" ","Enter","ArrowUp","ArrowDown"],Pr=[" ","Enter"],re="Select",[Te,Ae,Vr]=Nr(re),[le,sn]=me(re,[Vr,Mt]),Fe=Mt(),[Rr,Q]=le(re),[Tr,Ar]=le(re),kt=t=>{const{__scopeSelect:o,children:s,open:e,defaultOpen:r,onOpenChange:n,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:d,disabled:f,required:b,form:x}=t,p=Fe(o),[g,S]=m.useState(null),[v,y]=m.useState(null),[w,j]=m.useState(!1),E=Ct(u),[N,O]=Ce({prop:e,defaultProp:r??!1,onChange:n,caller:re}),[I,B]=Ce({prop:a,defaultProp:l,onChange:c,caller:re}),_=m.useRef(null),L=g?x||!!g.closest("form"):!0,[$,z]=m.useState(new Set),K=Array.from($).map(R=>R.props.value).join(";");return i.jsx(js,{...p,children:i.jsxs(Rr,{required:b,scope:o,trigger:g,onTriggerChange:S,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:j,contentId:Pe(),value:I,onValueChange:B,open:N,onOpenChange:O,dir:E,triggerPointerDownPosRef:_,disabled:f,children:[i.jsx(Te.Provider,{scope:o,children:i.jsx(Tr,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(R=>{z(H=>new Set(H).add(R))},[]),onNativeOptionRemove:m.useCallback(R=>{z(H=>{const M=new Set(H);return M.delete(R),M})},[]),children:s})}),L?i.jsxs(os,{"aria-hidden":!0,required:b,tabIndex:-1,name:h,autoComplete:d,value:I,onChange:R=>B(R.target.value),disabled:f,form:x,children:[I===void 0?i.jsx("option",{value:""}):null,Array.from($)]},K):null]})})};kt.displayName=re;var Dt="SelectTrigger",Ot=m.forwardRef((t,o)=>{const{__scopeSelect:s,disabled:e=!1,...r}=t,n=Fe(s),a=Q(Dt,s),l=a.disabled||e,c=D(o,a.onTriggerChange),u=Ae(s),h=m.useRef("touch"),[d,f,b]=as(p=>{const g=u().filter(y=>!y.disabled),S=g.find(y=>y.value===a.value),v=is(g,p,S);v!==void 0&&a.onValueChange(v.value)}),x=p=>{l||(a.onOpenChange(!0),b()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Es,{asChild:!0,...n,children:i.jsx(Y.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ns(a.value)?"":void 0,...r,ref:c,onClick:T(r.onClick,p=>{p.currentTarget.focus(),h.current!=="mouse"&&x(p)}),onPointerDown:T(r.onPointerDown,p=>{h.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:T(r.onKeyDown,p=>{const g=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(g&&p.key===" ")&&_r.includes(p.key)&&(x(),p.preventDefault())})})})});Ot.displayName=Dt;var Bt="SelectValue",Lt=m.forwardRef((t,o)=>{const{__scopeSelect:s,className:e,style:r,children:n,placeholder:a="",...l}=t,c=Q(Bt,s),{onValueNodeHasChildrenChange:u}=c,h=n!==void 0,d=D(o,c.onValueNodeChange);return J(()=>{u(h)},[u,h]),i.jsx(Y.span,{...l,ref:d,style:{pointerEvents:"none"},children:ns(c.value)?i.jsx(i.Fragment,{children:a}):n})});Lt.displayName=Bt;var Fr="SelectIcon",$t=m.forwardRef((t,o)=>{const{__scopeSelect:s,children:e,...r}=t;return i.jsx(Y.span,{"aria-hidden":!0,...r,ref:o,children:e||"▼"})});$t.displayName=Fr;var kr="SelectPortal",Ht=t=>i.jsx(Ns,{asChild:!0,...t});Ht.displayName=kr;var oe="SelectContent",zt=m.forwardRef((t,o)=>{const s=Q(oe,t.__scopeSelect),[e,r]=m.useState();if(J(()=>{r(new DocumentFragment)},[]),!s.open){const n=e;return n?jt.createPortal(i.jsx(Kt,{scope:t.__scopeSelect,children:i.jsx(Te.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),n):null}return i.jsx(Wt,{...t,ref:o})});zt.displayName=oe;var q=10,[Kt,ee]=le(oe),Dr="SelectContentImpl",Or=je("SelectContent.RemoveScroll"),Wt=m.forwardRef((t,o)=>{const{__scopeSelect:s,position:e="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:n,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:b,sticky:x,hideWhenDetached:p,avoidCollisions:g,...S}=t,v=Q(oe,s),[y,w]=m.useState(null),[j,E]=m.useState(null),N=D(o,C=>w(C)),[O,I]=m.useState(null),[B,_]=m.useState(null),L=Ae(s),[$,z]=m.useState(!1),K=m.useRef(!1);m.useEffect(()=>{if(y)return Ps(y)},[y]),Vs();const R=m.useCallback(C=>{const[k,...G]=L().map(V=>V.ref.current),[A]=G.slice(-1),P=document.activeElement;for(const V of C)if(V===P||(V==null||V.scrollIntoView({block:"nearest"}),V===k&&j&&(j.scrollTop=0),V===A&&j&&(j.scrollTop=j.scrollHeight),V==null||V.focus(),document.activeElement!==P))return},[L,j]),H=m.useCallback(()=>R([O,y]),[R,O,y]);m.useEffect(()=>{$&&H()},[$,H]);const{onOpenChange:M,triggerPointerDownPosRef:F}=v;m.useEffect(()=>{if(y){let C={x:0,y:0};const k=A=>{var P,V;C={x:Math.abs(Math.round(A.pageX)-(((P=F.current)==null?void 0:P.x)??0)),y:Math.abs(Math.round(A.pageY)-(((V=F.current)==null?void 0:V.y)??0))}},G=A=>{C.x<=10&&C.y<=10?A.preventDefault():y.contains(A.target)||M(!1),document.removeEventListener("pointermove",k),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",k),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",G,{capture:!0})}}},[y,M,F]),m.useEffect(()=>{const C=()=>M(!1);return window.addEventListener("blur",C),window.addEventListener("resize",C),()=>{window.removeEventListener("blur",C),window.removeEventListener("resize",C)}},[M]);const[De,ve]=as(C=>{const k=L().filter(P=>!P.disabled),G=k.find(P=>P.ref.current===document.activeElement),A=is(k,C,G);A&&setTimeout(()=>A.ref.current.focus())}),Oe=m.useCallback((C,k,G)=>{const A=!K.current&&!G;(v.value!==void 0&&v.value===k||A)&&(I(C),A&&(K.current=!0))},[v.value]),Be=m.useCallback(()=>y==null?void 0:y.focus(),[y]),ne=m.useCallback((C,k,G)=>{const A=!K.current&&!G;(v.value!==void 0&&v.value===k||A)&&_(C)},[v.value]),ge=e==="popper"?qe:Ut,de=ge===qe?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:b,sticky:x,hideWhenDetached:p,avoidCollisions:g}:{};return i.jsx(Kt,{scope:s,content:y,viewport:j,onViewportChange:E,itemRefCallback:Oe,selectedItem:O,onItemLeave:Be,itemTextRefCallback:ne,focusSelectedItem:H,selectedItemText:B,position:e,isPositioned:$,searchRef:De,children:i.jsx(Rs,{as:Or,allowPinchZoom:!0,children:i.jsx(Ts,{asChild:!0,trapped:v.open,onMountAutoFocus:C=>{C.preventDefault()},onUnmountAutoFocus:T(r,C=>{var k;(k=v.trigger)==null||k.focus({preventScroll:!0}),C.preventDefault()}),children:i.jsx(As,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:C=>C.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(ge,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:C=>C.preventDefault(),...S,...de,onPlaced:()=>z(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:T(S.onKeyDown,C=>{const k=C.ctrlKey||C.altKey||C.metaKey;if(C.key==="Tab"&&C.preventDefault(),!k&&C.key.length===1&&ve(C.key),["ArrowUp","ArrowDown","Home","End"].includes(C.key)){let A=L().filter(P=>!P.disabled).map(P=>P.ref.current);if(["ArrowUp","End"].includes(C.key)&&(A=A.slice().reverse()),["ArrowUp","ArrowDown"].includes(C.key)){const P=C.target,V=A.indexOf(P);A=A.slice(V+1)}setTimeout(()=>R(A)),C.preventDefault()}})})})})})})});Wt.displayName=Dr;var Br="SelectItemAlignedPosition",Ut=m.forwardRef((t,o)=>{const{__scopeSelect:s,onPlaced:e,...r}=t,n=Q(oe,s),a=ee(oe,s),[l,c]=m.useState(null),[u,h]=m.useState(null),d=D(o,N=>h(N)),f=Ae(s),b=m.useRef(!1),x=m.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:S,focusSelectedItem:v}=a,y=m.useCallback(()=>{if(n.trigger&&n.valueNode&&l&&u&&p&&g&&S){const N=n.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),I=n.valueNode.getBoundingClientRect(),B=S.getBoundingClientRect();if(n.dir!=="rtl"){const P=B.left-O.left,V=I.left-P,te=N.left-V,se=N.width+te,Le=Math.max(se,O.width),$e=window.innerWidth-q,He=Ie(V,[q,Math.max(q,$e-Le)]);l.style.minWidth=se+"px",l.style.left=He+"px"}else{const P=O.right-B.right,V=window.innerWidth-I.right-P,te=window.innerWidth-N.right-V,se=N.width+te,Le=Math.max(se,O.width),$e=window.innerWidth-q,He=Ie(V,[q,Math.max(q,$e-Le)]);l.style.minWidth=se+"px",l.style.right=He+"px"}const _=f(),L=window.innerHeight-q*2,$=p.scrollHeight,z=window.getComputedStyle(u),K=parseInt(z.borderTopWidth,10),R=parseInt(z.paddingTop,10),H=parseInt(z.borderBottomWidth,10),M=parseInt(z.paddingBottom,10),F=K+R+$+M+H,De=Math.min(g.offsetHeight*5,F),ve=window.getComputedStyle(p),Oe=parseInt(ve.paddingTop,10),Be=parseInt(ve.paddingBottom,10),ne=N.top+N.height/2-q,ge=L-ne,de=g.offsetHeight/2,C=g.offsetTop+de,k=K+R+C,G=F-k;if(k<=ne){const P=_.length>0&&g===_[_.length-1].ref.current;l.style.bottom="0px";const V=u.clientHeight-p.offsetTop-p.offsetHeight,te=Math.max(ge,de+(P?Be:0)+V+H),se=k+te;l.style.height=se+"px"}else{const P=_.length>0&&g===_[0].ref.current;l.style.top="0px";const te=Math.max(ne,K+p.offsetTop+(P?Oe:0)+de)+G;l.style.height=te+"px",p.scrollTop=k-ne+p.offsetTop}l.style.margin=`${q}px 0`,l.style.minHeight=De+"px",l.style.maxHeight=L+"px",e==null||e(),requestAnimationFrame(()=>b.current=!0)}},[f,n.trigger,n.valueNode,l,u,p,g,S,n.dir,e]);J(()=>y(),[y]);const[w,j]=m.useState();J(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(N=>{N&&x.current===!0&&(y(),v==null||v(),x.current=!1)},[y,v]);return i.jsx($r,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:E,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:i.jsx(Y.div,{...r,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});Ut.displayName=Br;var Lr="SelectPopperPosition",qe=m.forwardRef((t,o)=>{const{__scopeSelect:s,align:e="start",collisionPadding:r=q,...n}=t,a=Fe(s);return i.jsx(Fs,{...a,...n,ref:o,align:e,collisionPadding:r,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qe.displayName=Lr;var[$r,lt]=le(oe,{}),Xe="SelectViewport",Gt=m.forwardRef((t,o)=>{const{__scopeSelect:s,nonce:e,...r}=t,n=ee(Xe,s),a=lt(Xe,s),l=D(o,n.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:e}),i.jsx(Te.Slot,{scope:s,children:i.jsx(Y.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:T(r.onScroll,u=>{const h=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&d){const b=Math.abs(c.current-h.scrollTop);if(b>0){const x=window.innerHeight-q*2,p=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),S=Math.max(p,g);if(S<x){const v=S+b,y=Math.min(x,v),w=v-y;d.style.height=y+"px",d.style.bottom==="0px"&&(h.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Gt.displayName=Xe;var Yt="SelectGroup",[Hr,zr]=le(Yt),Kr=m.forwardRef((t,o)=>{const{__scopeSelect:s,...e}=t,r=Pe();return i.jsx(Hr,{scope:s,id:r,children:i.jsx(Y.div,{role:"group","aria-labelledby":r,...e,ref:o})})});Kr.displayName=Yt;var qt="SelectLabel",Wr=m.forwardRef((t,o)=>{const{__scopeSelect:s,...e}=t,r=zr(qt,s);return i.jsx(Y.div,{id:r.id,...e,ref:o})});Wr.displayName=qt;var _e="SelectItem",[Ur,Xt]=le(_e),Zt=m.forwardRef((t,o)=>{const{__scopeSelect:s,value:e,disabled:r=!1,textValue:n,...a}=t,l=Q(_e,s),c=ee(_e,s),u=l.value===e,[h,d]=m.useState(n??""),[f,b]=m.useState(!1),x=D(o,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,e,r)}),p=Pe(),g=m.useRef("touch"),S=()=>{r||(l.onValueChange(e),l.onOpenChange(!1))};if(e==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Ur,{scope:s,value:e,disabled:r,textId:p,isSelected:u,onItemTextChange:m.useCallback(v=>{d(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(Te.ItemSlot,{scope:s,value:e,disabled:r,textValue:h,children:i.jsx(Y.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:x,onFocus:T(a.onFocus,()=>b(!0)),onBlur:T(a.onBlur,()=>b(!1)),onClick:T(a.onClick,()=>{g.current!=="mouse"&&S()}),onPointerUp:T(a.onPointerUp,()=>{g.current==="mouse"&&S()}),onPointerDown:T(a.onPointerDown,v=>{g.current=v.pointerType}),onPointerMove:T(a.onPointerMove,v=>{var y;g.current=v.pointerType,r?(y=c.onItemLeave)==null||y.call(c):g.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:T(a.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:T(a.onKeyDown,v=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(Pr.includes(v.key)&&S(),v.key===" "&&v.preventDefault())})})})})});Zt.displayName=_e;var fe="SelectItemText",Jt=m.forwardRef((t,o)=>{const{__scopeSelect:s,className:e,style:r,...n}=t,a=Q(fe,s),l=ee(fe,s),c=Xt(fe,s),u=Ar(fe,s),[h,d]=m.useState(null),f=D(o,S=>d(S),c.onItemTextChange,S=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,S,c.value,c.disabled)}),b=h==null?void 0:h.textContent,x=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return J(()=>(p(x),()=>g(x)),[p,g,x]),i.jsxs(i.Fragment,{children:[i.jsx(Y.span,{id:c.textId,...n,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?jt.createPortal(n.children,a.valueNode):null]})});Jt.displayName=fe;var Qt="SelectItemIndicator",es=m.forwardRef((t,o)=>{const{__scopeSelect:s,...e}=t;return Xt(Qt,s).isSelected?i.jsx(Y.span,{"aria-hidden":!0,...e,ref:o}):null});es.displayName=Qt;var Ze="SelectScrollUpButton",ts=m.forwardRef((t,o)=>{const s=ee(Ze,t.__scopeSelect),e=lt(Ze,t.__scopeSelect),[r,n]=m.useState(!1),a=D(o,e.onScrollButtonChange);return J(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=c.scrollTop>0;n(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),r?i.jsx(rs,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ts.displayName=Ze;var Je="SelectScrollDownButton",ss=m.forwardRef((t,o)=>{const s=ee(Je,t.__scopeSelect),e=lt(Je,t.__scopeSelect),[r,n]=m.useState(!1),a=D(o,e.onScrollButtonChange);return J(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;n(h)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),r?i.jsx(rs,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ss.displayName=Je;var rs=m.forwardRef((t,o)=>{const{__scopeSelect:s,onAutoScroll:e,...r}=t,n=ee("SelectScrollButton",s),a=m.useRef(null),l=Ae(s),c=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),J(()=>{var h;const u=l().find(d=>d.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),i.jsx(Y.div,{"aria-hidden":!0,...r,ref:o,style:{flexShrink:0,...r.style},onPointerDown:T(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(e,50))}),onPointerMove:T(r.onPointerMove,()=>{var u;(u=n.onItemLeave)==null||u.call(n),a.current===null&&(a.current=window.setInterval(e,50))}),onPointerLeave:T(r.onPointerLeave,()=>{c()})})}),Gr="SelectSeparator",Yr=m.forwardRef((t,o)=>{const{__scopeSelect:s,...e}=t;return i.jsx(Y.div,{"aria-hidden":!0,...e,ref:o})});Yr.displayName=Gr;var Qe="SelectArrow",qr=m.forwardRef((t,o)=>{const{__scopeSelect:s,...e}=t,r=Fe(s),n=Q(Qe,s),a=ee(Qe,s);return n.open&&a.position==="popper"?i.jsx(ks,{...r,...e,ref:o}):null});qr.displayName=Qe;var Xr="SelectBubbleInput",os=m.forwardRef(({__scopeSelect:t,value:o,...s},e)=>{const r=m.useRef(null),n=D(e,r),a=Et(o);return m.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==o&&h){const d=new Event("change",{bubbles:!0});h.call(l,o),l.dispatchEvent(d)}},[a,o]),i.jsx(Y.select,{...s,style:{...Is,...s.style},ref:n,defaultValue:o})});os.displayName=Xr;function ns(t){return t===""||t===void 0}function as(t){const o=_s(t),s=m.useRef(""),e=m.useRef(0),r=m.useCallback(a=>{const l=s.current+a;o(l),function c(u){s.current=u,window.clearTimeout(e.current),u!==""&&(e.current=window.setTimeout(()=>c(""),1e3))}(l)},[o]),n=m.useCallback(()=>{s.current="",window.clearTimeout(e.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(e.current),[]),[s,r,n]}function is(t,o,s){const r=o.length>1&&Array.from(o).every(u=>u===o[0])?o[0]:o,n=s?t.indexOf(s):-1;let a=Zr(t,Math.max(n,0));r.length===1&&(a=a.filter(u=>u!==s));const c=a.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==s?c:void 0}function Zr(t,o){return t.map((s,e)=>t[(o+e)%t.length])}var Jr=kt,Qr=Ot,eo=Lt,to=$t,so=Ht,ro=zt,oo=Gt,no=Zt,ao=Jt,io=es,lo=ts,co=ss;function uo({...t}){return i.jsx(Jr,{"data-slot":"select",...t})}function fo({...t}){return i.jsx(eo,{"data-slot":"select-value",...t})}function ho({className:t,size:o="default",children:s,...e}){return i.jsxs(Qr,{"data-slot":"select-trigger","data-size":o,className:W("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e,children:[s,i.jsx(to,{asChild:!0,children:i.jsx(rt,{className:"size-4 opacity-50"})})]})}function mo({className:t,children:o,position:s="popper",...e}){return i.jsx(so,{children:i.jsxs(ro,{"data-slot":"select-content",className:W("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...e,children:[i.jsx(po,{}),i.jsx(oo,{className:W("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:o}),i.jsx(vo,{})]})})}function gt({className:t,children:o,...s}){return i.jsxs(no,{"data-slot":"select-item",className:W("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...s,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(io,{children:i.jsx(Ds,{className:"size-4"})})}),i.jsx(ao,{children:o})]})}function po({className:t,...o}){return i.jsx(lo,{"data-slot":"select-scroll-up-button",className:W("flex cursor-default items-center justify-center py-1",t),...o,children:i.jsx(Hs,{className:"size-4"})})}function vo({className:t,...o}){return i.jsx(co,{"data-slot":"select-scroll-down-button",className:W("flex cursor-default items-center justify-center py-1",t),...o,children:i.jsx(rt,{className:"size-4"})})}function go({field:t}){const o=[0,1,2],s=(e,r)=>t.handleChange(n=>({...n,[e]:r}));return i.jsxs("div",{className:"w-full",children:[i.jsx("div",{className:"font-semibold text-lg pb-1",children:"Select upgrade method"}),i.jsx("div",{className:"text-sm text-muted-foreground pb-5",children:"Select the consume/release method you will perform for each level of talent skills."}),i.jsx("div",{className:"flex gap-4",children:o.map(e=>i.jsxs("div",{className:"flex-1",children:[i.jsxs(pe,{className:"mb-2 ml-1 text-muted-foreground block text-left",children:[e,"-star talent skill"]}),i.jsxs(uo,{value:t.state.value[e],onValueChange:r=>s(e,r),children:[i.jsx(ho,{className:"w-full bg-background dark:bg-background",children:i.jsx(fo,{placeholder:"Action"})}),i.jsxs(mo,{children:[i.jsx(gt,{value:"consume",children:"Consume"}),i.jsx(gt,{value:"release",children:"Release"})]})]})]},e))})]})}function xo({field:t}){const o=s=>t.handleChange(()=>s);return i.jsxs("div",{className:"grid grid-cols-2 gap-10 w-full items-center",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx(pe,{htmlFor:"pets-a-day",className:"text-sm font-semibold",children:"Average regeneration potions"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"The average amount of regeneration potions used to reroll a pet with 2 skill slots."})]}),i.jsx("div",{className:"self-center w-full",children:i.jsx("div",{className:"flex items-center w-full",children:i.jsx(Nt,{id:"pets-a-day",type:"number",value:t.state.value,onChange:s=>{const e=s.target.value===""?0:Number(s.target.value);o(e)},className:"bg-background dark:bg-background"})})})]})}function xt(t){const o=So(t),s=m.forwardRef((e,r)=>{const{children:n,...a}=e,l=m.Children.toArray(n),c=l.find(yo);if(c){const u=c.props.children,h=l.map(d=>d===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:d);return i.jsx(o,{...a,ref:r,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return i.jsx(o,{...a,ref:r,children:n})});return s.displayName=`${t}.Slot`,s}function So(t){const o=m.forwardRef((s,e)=>{const{children:r,...n}=s;if(m.isValidElement(r)){const a=Mo(r),l=wo(n,r.props);return r.type!==m.Fragment&&(l.ref=e?wt(e,a):a),m.cloneElement(r,l)}return m.Children.count(r)>1?m.Children.only(null):null});return o.displayName=`${t}.SlotClone`,o}var bo=Symbol("radix.slottable");function yo(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bo}function wo(t,o){const s={...o};for(const e in o){const r=t[e],n=o[e];/^on[A-Z]/.test(e)?r&&n?s[e]=(...l)=>{const c=n(...l);return r(...l),c}:r&&(s[e]=r):e==="style"?s[e]={...r,...n}:e==="className"&&(s[e]=[r,n].filter(Boolean).join(" "))}return{...t,...s}}function Mo(t){var e,r;let o=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=o&&"isReactWarning"in o&&o.isReactWarning;return s?t.ref:(o=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,s=o&&"isReactWarning"in o&&o.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Co(t){const o=t+"CollectionProvider",[s,e]=me(o),[r,n]=s(o,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:S}=p,v=U.useRef(null),y=U.useRef(new Map).current;return i.jsx(r,{scope:g,itemMap:y,collectionRef:v,children:S})};a.displayName=o;const l=t+"CollectionSlot",c=xt(l),u=U.forwardRef((p,g)=>{const{scope:S,children:v}=p,y=n(l,S),w=D(g,y.collectionRef);return i.jsx(c,{ref:w,children:v})});u.displayName=l;const h=t+"CollectionItemSlot",d="data-radix-collection-item",f=xt(h),b=U.forwardRef((p,g)=>{const{scope:S,children:v,...y}=p,w=U.useRef(null),j=D(g,w),E=n(h,S);return U.useEffect(()=>(E.itemMap.set(w,{ref:w,...y}),()=>void E.itemMap.delete(w))),i.jsx(f,{[d]:"",ref:j,children:v})});b.displayName=h;function x(p){const g=n(t+"CollectionConsumer",p);return U.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((E,N)=>y.indexOf(E.ref.current)-y.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:u,ItemSlot:b},x,e]}var ls=["PageUp","PageDown"],cs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ds={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ce="Slider",[et,jo,Eo]=Co(ce),[us,rn]=me(ce,[Eo]),[No,ke]=us(ce),fs=m.forwardRef((t,o)=>{const{name:s,min:e=0,max:r=100,step:n=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[e],value:h,onValueChange:d=()=>{},onValueCommit:f=()=>{},inverted:b=!1,form:x,...p}=t,g=m.useRef(new Set),S=m.useRef(0),y=a==="horizontal"?Io:_o,[w=[],j]=Ce({prop:h,defaultProp:u,onChange:_=>{var $;($=[...g.current][S.current])==null||$.focus(),d(_)}}),E=m.useRef(w);function N(_){const L=Ao(w,_);B(_,L)}function O(_){B(_,S.current)}function I(){const _=E.current[S.current];w[S.current]!==_&&f(w)}function B(_,L,{commit:$}={commit:!1}){const z=Oo(n),K=Bo(Math.round((_-e)/n)*n+e,z),R=Ie(K,[e,r]);j((H=[])=>{const M=Ro(H,R,L);if(Do(M,c*n)){S.current=M.indexOf(R);const F=String(M)!==String(H);return F&&$&&f(M),F?M:H}else return H})}return i.jsx(No,{scope:t.__scopeSlider,name:s,disabled:l,min:e,max:r,valueIndexToChangeRef:S,thumbs:g.current,values:w,orientation:a,form:x,children:i.jsx(et.Provider,{scope:t.__scopeSlider,children:i.jsx(et.Slot,{scope:t.__scopeSlider,children:i.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:o,onPointerDown:T(p.onPointerDown,()=>{l||(E.current=w)}),min:e,max:r,inverted:b,onSlideStart:l?void 0:N,onSlideMove:l?void 0:O,onSlideEnd:l?void 0:I,onHomeKeyDown:()=>!l&&B(e,0,{commit:!0}),onEndKeyDown:()=>!l&&B(r,w.length-1,{commit:!0}),onStepKeyDown:({event:_,direction:L})=>{if(!l){const K=ls.includes(_.key)||_.shiftKey&&cs.includes(_.key)?10:1,R=S.current,H=w[R],M=n*K*L;B(H+M,R,{commit:!0})}}})})})})});fs.displayName=ce;var[hs,ms]=us(ce,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Io=m.forwardRef((t,o)=>{const{min:s,max:e,dir:r,inverted:n,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=t,[d,f]=m.useState(null),b=D(o,y=>f(y)),x=m.useRef(void 0),p=Ct(r),g=p==="ltr",S=g&&!n||!g&&n;function v(y){const w=x.current||d.getBoundingClientRect(),j=[0,w.width],N=ct(j,S?[s,e]:[e,s]);return x.current=w,N(y-w.left)}return i.jsx(hs,{scope:t.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:i.jsx(ps,{dir:p,"data-orientation":"horizontal",...h,ref:b,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const w=v(y.clientX);a==null||a(w)},onSlideMove:y=>{const w=v(y.clientX);l==null||l(w)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:y=>{const j=ds[S?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:j?-1:1})}})})}),_o=m.forwardRef((t,o)=>{const{min:s,max:e,inverted:r,onSlideStart:n,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,h=m.useRef(null),d=D(o,h),f=m.useRef(void 0),b=!r;function x(p){const g=f.current||h.current.getBoundingClientRect(),S=[0,g.height],y=ct(S,b?[e,s]:[s,e]);return f.current=g,y(p-g.top)}return i.jsx(hs,{scope:t.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:i.jsx(ps,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const g=x(p.clientY);n==null||n(g)},onSlideMove:p=>{const g=x(p.clientY);a==null||a(g)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:p=>{const S=ds[b?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:S?-1:1})}})})}),ps=m.forwardRef((t,o)=>{const{__scopeSlider:s,onSlideStart:e,onSlideMove:r,onSlideEnd:n,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=t,h=ke(ce,s);return i.jsx(Z.span,{...u,ref:o,onKeyDown:T(t.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):ls.concat(cs).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:T(t.onPointerDown,d=>{const f=d.target;f.setPointerCapture(d.pointerId),d.preventDefault(),h.thumbs.has(f)?f.focus():e(d)}),onPointerMove:T(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&r(d)}),onPointerUp:T(t.onPointerUp,d=>{const f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),n(d))})})}),vs="SliderTrack",gs=m.forwardRef((t,o)=>{const{__scopeSlider:s,...e}=t,r=ke(vs,s);return i.jsx(Z.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...e,ref:o})});gs.displayName=vs;var tt="SliderRange",xs=m.forwardRef((t,o)=>{const{__scopeSlider:s,...e}=t,r=ke(tt,s),n=ms(tt,s),a=m.useRef(null),l=D(o,a),c=r.values.length,u=r.values.map(f=>ys(f,r.min,r.max)),h=c>1?Math.min(...u):0,d=100-Math.max(...u);return i.jsx(Z.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...e,ref:l,style:{...t.style,[n.startEdge]:h+"%",[n.endEdge]:d+"%"}})});xs.displayName=tt;var st="SliderThumb",Ss=m.forwardRef((t,o)=>{const s=jo(t.__scopeSlider),[e,r]=m.useState(null),n=D(o,l=>r(l)),a=m.useMemo(()=>e?s().findIndex(l=>l.ref.current===e):-1,[s,e]);return i.jsx(Po,{...t,ref:n,index:a})}),Po=m.forwardRef((t,o)=>{const{__scopeSlider:s,index:e,name:r,...n}=t,a=ke(st,s),l=ms(st,s),[c,u]=m.useState(null),h=D(o,v=>u(v)),d=c?a.form||!!c.closest("form"):!0,f=Os(c),b=a.values[e],x=b===void 0?0:ys(b,a.min,a.max),p=To(e,a.values.length),g=f==null?void 0:f[l.size],S=g?Fo(g,x,l.direction):0;return m.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${S}px)`},children:[i.jsx(et.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(Z.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":a.min,"aria-valuenow":b,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...n,ref:h,style:b===void 0?{display:"none"}:t.style,onFocus:T(t.onFocus,()=>{a.valueIndexToChangeRef.current=e})})}),d&&i.jsx(bs,{name:r??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:b},e)]})});Ss.displayName=st;var Vo="RadioBubbleInput",bs=m.forwardRef(({__scopeSlider:t,value:o,...s},e)=>{const r=m.useRef(null),n=D(r,e),a=Et(o);return m.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==o&&h){const d=new Event("input",{bubbles:!0});h.call(l,o),l.dispatchEvent(d)}},[a,o]),i.jsx(Z.input,{style:{display:"none"},...s,ref:n,defaultValue:o})});bs.displayName=Vo;function Ro(t=[],o,s){const e=[...t];return e[s]=o,e.sort((r,n)=>r-n)}function ys(t,o,s){const n=100/(s-o)*(t-o);return Ie(n,[0,100])}function To(t,o){return o>2?`Value ${t+1} of ${o}`:o===2?["Minimum","Maximum"][t]:void 0}function Ao(t,o){if(t.length===1)return 0;const s=t.map(r=>Math.abs(r-o)),e=Math.min(...s);return s.indexOf(e)}function Fo(t,o,s){const e=t/2,n=ct([0,50],[0,e]);return(e-n(o)*s)*s}function ko(t){return t.slice(0,-1).map((o,s)=>t[s+1]-o)}function Do(t,o){if(o>0){const s=ko(t);return Math.min(...s)>=o}return!0}function ct(t,o){return s=>{if(t[0]===t[1]||o[0]===o[1])return o[0];const e=(o[1]-o[0])/(t[1]-t[0]);return o[0]+e*(s-t[0])}}function Oo(t){return(String(t).split(".")[1]||"").length}function Bo(t,o){const s=Math.pow(10,o);return Math.round(t*s)/s}var Lo=fs,$o=gs,Ho=xs,zo=Ss;function ws({className:t,defaultValue:o,value:s,min:e=0,max:r=100,...n}){const a=m.useMemo(()=>Array.isArray(s)?s:Array.isArray(o)?o:[e,r],[s,o,e,r]);return i.jsxs(Lo,{"data-slot":"slider",defaultValue:o,value:s,min:e,max:r,className:W("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...n,children:[i.jsx($o,{"data-slot":"slider-track",className:W("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:i.jsx(Ho,{"data-slot":"slider-range",className:W("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(l,c)=>i.jsx(zo,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function Ko({field:t}){const o=s=>t.handleChange(()=>s);return i.jsxs("div",{className:"grid grid-cols-2 gap-10 w-full items-center",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx(pe,{htmlFor:"pets-a-day",className:"text-sm font-semibold",children:"Pets caught a day"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"The number of pets you catch every day."})]}),i.jsx("div",{className:"self-center w-full",children:i.jsxs("div",{className:"flex items-center w-full",children:[i.jsx(ws,{id:"pets-a-day",min:1,max:5,step:1,value:[t.state.value],onValueChange:([s])=>o(s),className:"flex-grow [&_[data-slot='slider-track']]:bg-background [&_[data-slot='slider-track']]:dark:bg-background"}),i.jsx("span",{className:"ml-3 text-sm tabular-nums",children:t.state.value})]})})]})}function Wo({field:t}){const o=[0,1,2,3],s=(e,r)=>t.handleChange(n=>({...n,[e]:r}));return i.jsxs("div",{className:"w-full",children:[i.jsx("div",{className:"font-semibold text-lg pb-1",children:"Set pet coin prices"}),i.jsxs("div",{className:"text-sm text-muted-foreground pb-5",children:["Enter the price of the cheapest skill card for each skill card level. For more details, read the"," ",i.jsx(Bs,{className:"text-blue-300",to:"/pets/upgrade",hash:"pet-coins",children:"Pet Coins"})," ","section below."]}),i.jsx("div",{className:"flex gap-4",children:o.map(e=>i.jsxs("div",{className:"flex-1",children:[i.jsxs(pe,{className:"mb-2 ml-1 text-muted-foreground block text-left",children:[e,"-star skill"]}),i.jsx(Nt,{type:"number",min:0,value:t.state.value[e]??"",onChange:r=>{const n=r.target.value===""?0:+r.target.value;s(e,n)},disabled:e===3,className:"bg-background dark:bg-background"})]},e))})]})}function Uo({field:t}){const o=s=>t.handleChange(()=>s/100);return i.jsxs("div",{className:"grid grid-cols-2 gap-10 w-full items-center",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx(pe,{htmlFor:"release-fail-rate",className:"text-sm font-semibold",children:"Set release fail rate"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Percentage of releases that ",i.jsx("em",{children:"fail"})," to grant the talent skill. Based on testing, this is roughly 25 %."]})]}),i.jsx("div",{className:"self-center w-full",children:i.jsxs("div",{className:"flex items-center w-full",children:[i.jsx(ws,{id:"fail-rate",min:0,max:99,step:1,value:[Math.round((t.state.value??0)*100)],onValueChange:([s])=>o(s),className:`flex-1 bg-background dark:bg-background\r
                   [&_[data-slot='slider-track']]:bg-background\r
                   [&_[data-slot='slider-track']]:dark:bg-background`}),i.jsx("span",{className:"w-[3ch] ml-3 text-sm tabular-nums",children:`${Math.round((t.state.value??0)*100)}%`})]})})]})}const St={0:{consume:5,release:10,promote:40},1:{consume:50,release:100,promote:400},2:{consume:500,release:1e3,promote:4e3}};function bt(t,o=0){if(o<0||o>1)throw new RangeError("failRate must be between 0 and 1.");const s={0:0,1:0,2:0,3:1};for(const e of[2,1,0]){const r=e+1,n=St[e][t[e]],a=t[e]==="release"?1-o:1;if(a===0)throw new Error("failRate = 1 makes release impossible.");const l=n*a,c=1+St[e].promote/l;s[e]=s[r]*c}return s}function Go(t,o,s){let e=0;for(const r of[0,1,2])if(t[r]==="release"){const n=r+1;e+=s[r]*o[n]}return e}function Yo(t,o,s){const e=o[0]==="release"?s[0]*.8:0,r=o[1]==="release"?s[1]*.8:0,n=o[2]==="release"?Math.min(s[2],4):0;return(e+r+n)*t}function qo(t,o,s,e){const r=bt(t,s),n=Go(t,o,bt(t,0)),a=Yo(e,t,r);return{totalDups:r,totalPrice:n,totalRegens:a}}function Xo(){return i.jsxs("section",{id:"pet-coins",className:"scroll-mt-20 pb-5",children:[i.jsxs("header",{className:"flex items-center gap-2",children:[i.jsx("img",{src:"/icons/pet-coin.png",alt:"Regeneration Potion",className:"size-7",loading:"lazy"}),i.jsx("h2",{className:"font-semibold text-2xl pb-1 w-full",children:"Pet Coins"})]}),i.jsxs("section",{className:"py-2",children:[i.jsx("h3",{className:"font-semibold text-lg",children:"How to use"}),i.jsx("p",{className:"text-base text-muted-foreground pb-5 w-full",children:"Enter the lowest market price for each skill card level. To find these prices, you can do the following:"}),i.jsxs("ol",{className:"list-decimal list-inside pl-6 pt-2 space-y-2 text-muted-foreground ",children:[i.jsx("li",{children:"Go to the Pet Sanctuary in-game and open the Exchange House."}),i.jsxs("li",{children:['Set the "Order" option to ',i.jsx("strong",{children:"Price: Low-High"}),".",i.jsx("div",{className:"my-2",children:i.jsx("div",{className:"pl-5",children:i.jsx("img",{src:"/exchange-house-order.png",alt:"Exchange House - Order Filter",className:"w-64 max-w-md border rounded-lg"})})})]}),i.jsxs("li",{children:['Use the "Filter" option to select the desired star level.',i.jsx("div",{className:"pl-5",children:i.jsx("img",{src:"/exchange-house-filter.png",alt:"Exchange House - Filter Option",className:"w-64 max-w-md border rounded-lg"})})]}),i.jsxs("li",{children:["Record the price of the first listing. This is the lowest price for that level.",i.jsx("div",{className:"pl-5",children:i.jsx("img",{src:"/exchange-house-skill.png",alt:"Exchange House - Filter Option",className:"w-64 max-w-md border rounded-lg"})})]})]}),i.jsx("p",{className:"text-base text-muted-foreground pt-2",children:"Repeat this process for each star level to capture all prices."})]}),i.jsxs("section",{className:"py-2",children:[i.jsx("h3",{className:"font-semibold text-lg pt-2",children:"Calculations"}),i.jsxs("div",{className:"text-base text-muted-foreground pb-5 w-full space-y-4",children:[i.jsx("p",{children:"The calculation for pet coins is a pessimistic calculation. That means, more than likely, you will spend less than the estimate you see in the calculator."}),i.jsxs("p",{children:["The estimate is calculated by adding together all of the skill cards needed to ",i.jsx("span",{className:"text-purple-300",children:"release"})," the talent skill levels you configured in the calculator. For example, if you chose to ",i.jsx("span",{className:"text-purple-300",children:"release"})," all of the 0-star talent skills, and you need a total of 100 0-star talent skills to upgrade, the pet coins would be calculated by multiplying the price of a 1-star skill card with 100."]}),i.jsxs("p",{children:["The fail rate of releases does ",i.jsx("strong",{children:"not"})," influence the price. When you fail a release, you would get the skill card back, and you can reuse it for the next release."]}),i.jsx("p",{children:"If your method is to release 0-star talent skills, note that the calculator does not factor in that some pets spawn with a 1-star skill card already. This would be a significant price reduction."})]})]})]})}function Zo(){return i.jsxs("section",{id:"regeneration-potions",className:"scroll-mt-20 pb-5",children:[i.jsxs("header",{className:"flex items-center gap-2 pb-3",children:[i.jsx("img",{src:"/game-items/regeneration_potion.png",alt:"Regeneration Potion",className:"size-7",loading:"lazy"}),i.jsx("h2",{className:"font-semibold text-2xl w-full",children:"Regeneration Potions"})]}),i.jsxs("div",{className:"text-base text-muted-foreground pb-5 w-full space-y-4",children:[i.jsx("p",{children:"The number of Regeneration Potions needed is a pessimistic calculation based on the consume/release method you selected. Only talent skill cards that you release will need Regeneration Potions."}),i.jsx("p",{children:"Based on some minimal testing data, the amount of Regeneration Potions needed to regenerate a pet with 2 skill card slots seems to be around 4.5 potions."}),i.jsxs("p",{children:["The calculation does ",i.jsx("strong",{children:"not"})," (yet) factor in that some pets spawn with only one talent skill card and one skill card. This would significantly decrease the amount of Regeneration Potions needed."]})]})]})}function Jo(){return i.jsxs("section",{id:"upgrade-method",className:"pb-10",children:[i.jsxs("header",{className:"flex items-center gap-2 pb-3",children:[i.jsx(Ks,{className:"size-7"}),i.jsx("h2",{className:"font-semibold text-2xl w-full",children:"Upgrade Method"})]}),i.jsxs("div",{className:"text-base text-muted-foreground pb-5 w-full space-y-4",children:[i.jsxs("p",{children:["Select which upgrade method you will use for each of the various tiers of talent skill cards. There are two forms of upgrade methods:"," ",i.jsx("span",{className:"text-green-300",children:"consume"})," and"," ",i.jsx("span",{className:"text-purple-300",children:"release"}),". Deciding which method you use heavily influences both the amount of skill cards you need to catch, and also the cost."]}),i.jsxs("ul",{className:"list-disc pl-6 pt-3 space-y-2",children:[i.jsxs("li",{children:["The ",i.jsx("span",{className:"text-green-300",children:"consume"})," method means you will directly consume the pet into another pet. This method does not cost any pet coins, nor do you need to use any regeneration potions."]}),i.jsxs("li",{children:["The ",i.jsx("span",{className:"text-purple-300",children:"release"})," method means that you will release the pet with a talent skill, along with a normal skill one level higher. For example, you would release the pet with a 0-star talent skill in the first slot, and a 1-star Robust Body in the second slot. This method costs pet poins, and requires you to use regeneration potions to ensure the pet only has two skill slots when you release it."]})]})]})]})}const on=function(){const o=Cr({defaultValues:{actions:{0:"consume",1:"consume",2:"consume"},prices:{0:20,1:120,2:842,3:4210},failRate:.25,petsADay:5,avgRegens:4.5}}),s=he(o.store,r=>qo(r.values.actions,r.values.prices,r.values.failRate,r.values.avgRegens)),e=he(o.store,r=>r.values.petsADay);return i.jsxs("div",{className:"w-2/3 mx-auto",children:[i.jsx("div",{className:"font-bold text-4xl pb-1 w-full",children:"Talent Skill Upgrade Calculator"}),i.jsx("div",{className:"text-lg text-muted-foreground pb-8 w-full",children:"This is a tool to calculate the amount of 0-star talent skill cards needed to upgrade to a 3-star talent skill. It also calculates the expected cost based on whether you decide to consume or release the skill cards."}),i.jsxs(dt,{className:"w-full mx-auto mb-20",children:[i.jsx(Ws,{children:i.jsx(dt,{className:"bg-background m-5",children:i.jsxs("div",{className:"text-base text-center pb-8 w-full h-full",children:[i.jsx("div",{className:"font-semibold text-xl pb-1 w-full",children:"Results"}),i.jsxs("div",{className:"pb-1 text-muted-foreground",children:["You would need"," ",i.jsx("span",{className:"font-bold text-fuchsia-300",children:Math.ceil(s.totalDups[0])})," ","0-star talent skills"]}),i.jsxs("div",{className:"pb-1 text-muted-foreground",children:["It would take"," ",i.jsx("span",{className:"font-bold text-emerald-300",children:Math.ceil(s.totalDups[0]/e)})," ","days on average"]}),i.jsxs("div",{className:"pb-1 text-muted-foreground",children:["It would cost approximately"," ",i.jsx("span",{className:"font-bold text-amber-300",children:Math.ceil(s.totalPrice)})," ","pet coins"]}),i.jsxs("div",{className:"pb-1 text-muted-foreground",children:["You would use around"," ",i.jsx("span",{className:"font-bold text-blue-300",children:Math.ceil(s.totalRegens)})," ","regeneration potions"]})]})})}),i.jsx(ft,{}),i.jsxs(Us,{className:"m-5 space-y-7",children:[i.jsx(o.Field,{name:"actions",children:r=>i.jsx(go,{field:r})}),i.jsx(o.Field,{name:"prices",children:r=>i.jsx(Wo,{field:r})})]}),i.jsx(ft,{}),i.jsx(Gs,{className:"m-5",children:i.jsxs(nr,{children:[i.jsx(ar,{asChild:!0,children:i.jsxs(Ls,{variant:"outline",size:"sm",className:"group flex items-center gap-1",children:["Advanced settings",i.jsx(rt,{className:"h-4 w-4 transition-transform group-data-[state=open]:rotate-180"})]})}),i.jsx(ir,{children:i.jsxs("div",{className:"grid gap-6 pt-4",children:[i.jsx(o.Field,{name:"failRate",children:r=>i.jsx(Uo,{field:r})}),i.jsx(o.Field,{name:"petsADay",children:r=>i.jsx(Ko,{field:r})}),i.jsx(o.Field,{name:"avgRegens",children:r=>i.jsx(xo,{field:r})})]})})]})})]}),i.jsx(Jo,{}),i.jsx(Xo,{}),i.jsx(Zo,{})]})};export{on as component};
