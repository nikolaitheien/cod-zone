import{c as z,j as r,r as a,m as ee,d as te,n as $,e as oe,u as re,p as ne,g as B,A as se,f as b,P as F,q as ae,B as ie,z as le,C as ce,O as ue,Q as de,a as pe,T as fe,I as H}from"./index-szitSuwq.js";import{T as xe,a as he,b as G,c as k,d as me,e as L}from"./table-DCRTHmEU.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ge=z("layout-grid",ve);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],Te=z("rows-3",ye);function be({items:e}){return r.jsx("div",{className:"grid gap-3 grid-cols-[repeat(auto-fit,minmax(clamp(4rem,10vw,6rem),1fr))]",children:e.map(t=>r.jsx("div",{className:"aspect-square rounded-md overflow-hidden",children:r.jsx("img",{src:`/game-items/${t.id}.png`,alt:t.name,className:"w-full h-full object-contain",loading:"lazy"})},t.id))})}var Ce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=Ce.reduce((e,t)=>{const o=ee(`Primitive.${t}`),n=a.forwardRef((s,l)=>{const{asChild:c,...p}=s,i=c?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(i,{...p,ref:l})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),[_,We]=te("Tooltip",[$]),N=$(),q="TooltipProvider",je=700,D="tooltip.open",[Pe,A]=_(q),U=e=>{const{__scopeTooltip:t,delayDuration:o=je,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:l}=e,c=a.useRef(!0),p=a.useRef(!1),i=a.useRef(0);return a.useEffect(()=>{const f=i.current;return()=>window.clearTimeout(f)},[]),r.jsx(Pe,{scope:t,isOpenDelayedRef:c,delayDuration:o,onOpen:a.useCallback(()=>{window.clearTimeout(i.current),c.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:p,onPointerInTransitChange:a.useCallback(f=>{p.current=f},[]),disableHoverableContent:s,children:l})};U.displayName=q;var E="Tooltip",[Ee,R]=_(E),V=e=>{const{__scopeTooltip:t,children:o,open:n,defaultOpen:s,onOpenChange:l,disableHoverableContent:c,delayDuration:p}=e,i=A(E,e.__scopeTooltip),f=N(t),[u,x]=a.useState(null),h=oe(),d=a.useRef(0),m=c??i.disableHoverableContent,g=p??i.delayDuration,v=a.useRef(!1),[T,y]=re({prop:n,defaultProp:s??!1,onChange:M=>{M?(i.onOpen(),document.dispatchEvent(new CustomEvent(D))):i.onClose(),l==null||l(M)},caller:E}),w=a.useMemo(()=>T?v.current?"delayed-open":"instant-open":"closed",[T]),j=a.useCallback(()=>{window.clearTimeout(d.current),d.current=0,v.current=!1,y(!0)},[y]),P=a.useCallback(()=>{window.clearTimeout(d.current),d.current=0,y(!1)},[y]),S=a.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{v.current=!0,y(!0),d.current=0},g)},[g,y]);return a.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),r.jsx(ne,{...f,children:r.jsx(Ee,{scope:t,contentId:h,open:T,stateAttribute:w,trigger:u,onTriggerChange:x,onTriggerEnter:a.useCallback(()=>{i.isOpenDelayedRef.current?S():j()},[i.isOpenDelayedRef,S,j]),onTriggerLeave:a.useCallback(()=>{m?P():(window.clearTimeout(d.current),d.current=0)},[P,m]),onOpen:j,onClose:P,disableHoverableContent:m,children:o})})};V.displayName=E;var O="TooltipTrigger",Y=a.forwardRef((e,t)=>{const{__scopeTooltip:o,...n}=e,s=R(O,o),l=A(O,o),c=N(o),p=a.useRef(null),i=B(t,p,s.onTriggerChange),f=a.useRef(!1),u=a.useRef(!1),x=a.useCallback(()=>f.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),r.jsx(se,{asChild:!0,...c,children:r.jsx(we.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:i,onPointerMove:b(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!l.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:b(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:b(e.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:b(e.onFocus,()=>{f.current||s.onOpen()}),onBlur:b(e.onBlur,s.onClose),onClick:b(e.onClick,s.onClose)})})});Y.displayName=O;var I="TooltipPortal",[Re,_e]=_(I,{forceMount:void 0}),X=e=>{const{__scopeTooltip:t,forceMount:o,children:n,container:s}=e,l=R(I,t);return r.jsx(Re,{scope:t,forceMount:o,children:r.jsx(F,{present:o||l.open,children:r.jsx(ae,{asChild:!0,container:s,children:n})})})};X.displayName=I;var C="TooltipContent",K=a.forwardRef((e,t)=>{const o=_e(C,e.__scopeTooltip),{forceMount:n=o.forceMount,side:s="top",...l}=e,c=R(C,e.__scopeTooltip);return r.jsx(F,{present:n||c.open,children:c.disableHoverableContent?r.jsx(Q,{side:s,...l,ref:t}):r.jsx(Ne,{side:s,...l,ref:t})})}),Ne=a.forwardRef((e,t)=>{const o=R(C,e.__scopeTooltip),n=A(C,e.__scopeTooltip),s=a.useRef(null),l=B(t,s),[c,p]=a.useState(null),{trigger:i,onClose:f}=o,u=s.current,{onPointerInTransitChange:x}=n,h=a.useCallback(()=>{p(null),x(!1)},[x]),d=a.useCallback((m,g)=>{const v=m.currentTarget,T={x:m.clientX,y:m.clientY},y=Oe(T,v.getBoundingClientRect()),w=Ae(T,y),j=Ie(g.getBoundingClientRect()),P=Me([...w,...j]);p(P),x(!0)},[x]);return a.useEffect(()=>()=>h(),[h]),a.useEffect(()=>{if(i&&u){const m=v=>d(v,u),g=v=>d(v,i);return i.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{i.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[i,u,d,h]),a.useEffect(()=>{if(c){const m=g=>{const v=g.target,T={x:g.clientX,y:g.clientY},y=(i==null?void 0:i.contains(v))||(u==null?void 0:u.contains(v)),w=!Se(T,c);y?h():w&&(h(),f())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[i,u,c,f,h]),r.jsx(Q,{...e,ref:l})}),[ke,Le]=_(E,{isInside:!1}),De=ue("TooltipContent"),Q=a.forwardRef((e,t)=>{const{__scopeTooltip:o,children:n,"aria-label":s,onEscapeKeyDown:l,onPointerDownOutside:c,...p}=e,i=R(C,o),f=N(o),{onClose:u}=i;return a.useEffect(()=>(document.addEventListener(D,u),()=>document.removeEventListener(D,u)),[u]),a.useEffect(()=>{if(i.trigger){const x=h=>{const d=h.target;d!=null&&d.contains(i.trigger)&&u()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[i.trigger,u]),r.jsx(le,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:x=>x.preventDefault(),onDismiss:u,children:r.jsxs(ce,{"data-state":i.stateAttribute,...f,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(De,{children:n}),r.jsx(ke,{scope:o,isInside:!0,children:r.jsx(de,{id:i.contentId,role:"tooltip",children:s||n})})]})})});K.displayName=C;var W="TooltipArrow",J=a.forwardRef((e,t)=>{const{__scopeTooltip:o,...n}=e,s=N(o);return Le(W,o).isInside?null:r.jsx(ie,{...s,...n,ref:t})});J.displayName=W;function Oe(e,t){const o=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(o,n,s,l)){case l:return"left";case s:return"right";case o:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Ae(e,t,o=5){const n=[];switch(t){case"top":n.push({x:e.x-o,y:e.y+o},{x:e.x+o,y:e.y+o});break;case"bottom":n.push({x:e.x-o,y:e.y-o},{x:e.x+o,y:e.y-o});break;case"left":n.push({x:e.x+o,y:e.y-o},{x:e.x+o,y:e.y+o});break;case"right":n.push({x:e.x-o,y:e.y-o},{x:e.x-o,y:e.y+o});break}return n}function Ie(e){const{top:t,right:o,bottom:n,left:s}=e;return[{x:s,y:t},{x:o,y:t},{x:o,y:n},{x:s,y:n}]}function Se(e,t){const{x:o,y:n}=e;let s=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const p=t[l],i=t[c],f=p.x,u=p.y,x=i.x,h=i.y;u>n!=h>n&&o<(x-f)*(n-u)/(h-u)+f&&(s=!s)}return s}function Me(e){const t=e.slice();return t.sort((o,n)=>o.x<n.x?-1:o.x>n.x?1:o.y<n.y?-1:o.y>n.y?1:0),He(t)}function He(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}t.pop();const o=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;o.length>=2;){const l=o[o.length-1],c=o[o.length-2];if((l.x-c.x)*(s.y-c.y)>=(l.y-c.y)*(s.x-c.x))o.pop();else break}o.push(s)}return o.pop(),t.length===1&&o.length===1&&t[0].x===o[0].x&&t[0].y===o[0].y?t:t.concat(o)}var Ge=U,ze=V,$e=Y,Be=X,Fe=K,qe=J;function Z({delayDuration:e=0,...t}){return r.jsx(Ge,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Ue({...e}){return r.jsx(Z,{children:r.jsx(ze,{"data-slot":"tooltip",...e})})}function Ve({...e}){return r.jsx($e,{"data-slot":"tooltip-trigger",...e})}function Ye({className:e,sideOffset:t=0,children:o,...n}){return r.jsx(Be,{children:r.jsxs(Fe,{"data-slot":"tooltip-content",sideOffset:t,className:pe("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...n,children:[o,r.jsx(qe,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function Xe({items:e}){return r.jsxs(xe,{children:[r.jsx(he,{children:r.jsxs(G,{children:[r.jsx(k,{children:"Name"}),r.jsx(k,{children:"Category"}),r.jsx(k,{className:"text-right",children:"Gem value"})]})}),r.jsx(me,{children:e.map(t=>r.jsxs(G,{children:[r.jsx(L,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:`/game-items/${t.id}.png`,alt:t.name,className:"size-8",loading:"lazy"}),r.jsx("span",{children:t.name})]})}),r.jsx(L,{children:t.category}),r.jsxs(L,{className:"text-right",children:[r.jsx(Z,{delayDuration:200,children:r.jsxs(Ue,{children:[r.jsx(Ve,{asChild:!0,children:r.jsx("span",{className:"cursor-help underline-dotted",children:t.gem_value.toLocaleString()})}),r.jsx(Ye,{side:"top",children:t.gem_value_explanation})]})}),r.jsx("span",{className:"ml-1","aria-label":"gem",role:"img",children:"💎"})]})]},t.id))})]})}const Je=function(){const t=fe.useLoaderData(),[o,n]=a.useState("grid");return r.jsxs("div",{className:"w-full mx-auto",children:[r.jsx("div",{className:"font-bold text-4xl pb-1 w-full",children:"Items"}),r.jsx("div",{className:"text-muted-foreground pb-8 w-full",children:"Below is a list of (almost) all items in the game. The list does not include items from quests or events, with a couple of exceptions. The list does not include all variations of hero tokens. The list does not include artifacts."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(H,{variant:o==="grid"?"default":"outline",size:"sm",onClick:()=>n("grid"),children:[r.jsx(ge,{}),"Grid"]}),r.jsxs(H,{variant:o==="table"?"default":"outline",size:"sm",onClick:()=>n("table"),children:[r.jsx(Te,{}),"Table"]})]}),r.jsx("div",{className:"pt-6",children:o==="grid"?r.jsx(be,{items:t}):r.jsx(Xe,{items:t})})]})};export{Je as component};
